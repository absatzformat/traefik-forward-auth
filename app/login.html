<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Anmeldung</title>
	<style>
		:root {
			--color-primary: #e72d4b;
			--color-secondary: #2e3142;
			--color-background: #f2f4f5;
		}

		html,
		body {
			height: 100%;
		}

		body {
			margin: 0;
			background-color: var(--color-background);
			font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
			color: #666;
		}

		#login-wrapper {
			width: 100%;
			height: 100%;
			display: flex;
			padding: 0 20px;
			box-sizing: border-box;
		}

		.login-box {
			/* padding-top: 20px; */
			margin: auto;
			width: 400px;
		}

		.login-box h1 {
			text-align: center;
			margin: 0;
			margin-bottom: 30px;
			font-weight: 500;
		}

		.login-realm {
			text-align: center;
			margin-bottom: 20px;
		}

		#login-message {
			text-align: center;
			margin-bottom: 10px;
			background-color: var(--color-background);
			padding: 10px;
			display: none;
			font-size: 14px;
			border-radius: 2px;
		}

		.login-box>.upper {
			background-color: #fff;
			padding: 40px;
			box-shadow: 0px 10px 34px -15px rgba(0, 0, 0, 0.24);
			border-radius: 12px;
		}

		.login-box>.lower {
			font-size: 12px;
			text-align: center;
			padding: 12px 0;
			color: #999;
			margin-bottom: 40px;
		}

		.login-box>.lower a {
			color: inherit;
			text-decoration: dashed;
		}

		.login-box>.lower a:hover {
			color: #666;
		}

		.login-box button {
			border-radius: 2px;
			border: none;
			appearance: none;
			padding: 0 20px;
			outline: none;
			height: 46px;
			box-sizing: border-box;
			width: 100%;
			background-color: var(--color-primary);
			font-weight: 600;
			color: #fff;
			font-family: inherit;
			font-size: 18px;
			margin-top: 20px;
			transition: background-color 160ms ease;
		}

		.login-box button:hover {
			background-color: var(--color-secondary);
		}

		.login-box label {
			display: block;
			font-size: 14px;
			margin-bottom: 10px;
		}

		.login-box label span {
			display: inline-block;
			margin-bottom: 6px;
		}

		.login-box input {
			border-radius: 2px;
			border: 1px solid #ccc;
			outline: none;
			display: block;
			box-sizing: border-box;
			width: 100%;
			padding: 0 10px;
			height: 40px;
			color: #666;
			font-family: inherit;
			font-weight: 600;
			font-size: 16px;
			transition: border-color 160ms ease;
		}

		.login-box input:focus {
			border-color: var(--color-primary);
		}

		.login-box .top-spacer {
			margin-bottom: 40px;
		}

		#login-logo {
			margin: 0 auto;
			max-width: 80px;
		}

		.ring-loader {
			margin: 0 auto;
			width: 66px;
			height: 66px;
		}

		.ring-loader:after {
			content: "";
			display: block;
			width: 58px;
			height: 58px;
			border-radius: 50%;
			border: 4px solid var(--color-primary);
			border-color: var(--color-primary) transparent var(--color-primary) transparent;
			animation: rotating 1.2s linear infinite;
		}

		@keyframes rotating {
			0% {
				transform: rotate(0deg);
			}

			100% {
				transform: rotate(360deg);
			}
		}

		#login-loader {
			display: none;
		}
	</style>
</head>

<body>
	<div id="login-wrapper">
		<div class="login-box">
			<div class="upper">
				<div class="top-spacer">
					<div id="login-loader" class="ring-loader"></div>
					<div id="login-logo">
						<svg viewBox="0 0 248 206">
							<g fill="#e72d4b">
								<polygon points="178 175 96.2 0 69.4 57.5 69.4 57.5 0 206 53.6 206 96.2 115 124 175" />
								<polygon points="248 49.1 248 0.5 116 0.5 139 49.1" />
								<polygon points="207 114 207 65.6 147 65.6 170 114" />
							</g>
						</svg>
					</div>
				</div>
				<div class="login-realm">
					Die angeforderte Ressource ben√∂tigt eine Authentifizierung.
					<!-- <a href="">Weshalb?</a> -->
				</div>
				<form id="login-form" action="" method="get">
					<div id="login-message"></div>
					<label>
						<span>Benutzer</span>
						<input id="login-username" name="username" type="text" value="">
					</label>
					<label>
						<span>Passwort</span>
						<input id="login-password" name="password" type="password" value="">
					</label>
					<button id="login-button" type="submit">Anmelden</button>
				</form>
			</div>
			<div class="lower">
				&copy;
				<script>document.write((new Date()).getFullYear())</script> <a href="https://absatzformat.de"
					target="_blank">Absatzformat GmbH</a>
			</div>
		</div>
	</div>
	<script>
			(function () {

				'use strict';

				var message = document.getElementById('login-message');
				var form = document.getElementById('login-form');
				var username = document.getElementById('login-username');
				var password = document.getElementById('login-password');

				var logo = document.getElementById('login-logo');
				var loader = document.getElementById('login-loader');

				form.addEventListener('submit', function (e) {

					e.preventDefault();

					var user = username.value;
					var pass = password.value;

					password.value = '';

					message.style.display = 'none';
					message.innerHTML = '';

					logo.style.display = 'none';
					loader.style.display = 'block';

					var xhr = new XMLHttpRequest();

					xhr.addEventListener('readystatechange', function (r) {

						if (xhr.readyState === XMLHttpRequest.DONE) {
							if (xhr.status === 304) {
								window.location.reload();
							}
							else {
								message.style.display = 'block';
								message.innerHTML = 'Anmeldung war nicht erfolgreich';

								loader.style.display = 'none';
								logo.style.display = 'block';
							}
						}
					});

					xhr.open('GET', '');
					xhr.setRequestHeader('X-Auth-User', user);
					xhr.setRequestHeader('X-Auth-Password', pass);
					xhr.send();
				});
			})();
	</script>
</body>

</html>